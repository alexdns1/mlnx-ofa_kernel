From: Roi Dayan <roid@mellanox.com>
Subject: [PATCH] BACKPORT: drivers/net/ethernet/mellanox/mlx5/core/miniflow.h

Change-Id: I38b4f5f3c755c055f329da4bce3658bc9dad9250
---
 drivers/net/ethernet/mellanox/mlx5/core/miniflow.h | 2 ++
 1 file changed, 2 insertions(+)

--- a/drivers/net/ethernet/mellanox/mlx5/core/miniflow.h
+++ b/drivers/net/ethernet/mellanox/mlx5/core/miniflow.h
@@ -64,6 +64,7 @@ int miniflow_configure(struct mlx5e_priv
 int mlx5_ct_flow_offload_table_init(void);
 void mlx5_ct_flow_offload_table_destroy(void);
 
+#ifndef CONFIG_COMPAT_NFT_GEN_FLOW_OFFLOAD
 int mlx5_ct_flow_offload_add(const struct net *net,
 			     const struct nf_conntrack_zone *zone,
 			     const struct nf_conntrack_tuple *tuple,
@@ -78,6 +79,7 @@ int mlx5_ct_flow_offloaded_count(void);
 int ct_flow_offload_add(void *arg, struct list_head *head);
 void ct_flow_offload_get_stats(struct list_head *head, u64 *lastuse);
 int ct_flow_offload_destroy(struct list_head *head);
+#endif
 
 #else /* HAVE_MINIFLOW */
 
