From: Valentine Fatiev <valentinef@mellanox.com>
Subject: [PATCH] BACKPORT:
 drivers/net/ethernet/mellanox/mlx5/core/en/tc_tun_gre.c

Change-Id: I9d53b9e1ef94cf5774f8df3ca8017ba4d822f49a
---
 drivers/net/ethernet/mellanox/mlx5/core/en/tc_tun_gre.c | 4 ++++
 1 file changed, 4 insertions(+)

--- a/drivers/net/ethernet/mellanox/mlx5/core/en/tc_tun_gre.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en/tc_tun_gre.c
@@ -1,6 +1,8 @@
 // SPDX-License-Identifier: GPL-2.0 OR Linux-OpenIB
 /* Copyright (c) 2018 Mellanox Technologies. */
 
+#ifdef HAVE_TCF_TUNNEL_INFO
+
 #include <net/gre.h>
 #include "en/tc_tun.h"
 
@@ -95,3 +97,5 @@ struct mlx5e_tc_tunnel gre_tunnel = {
 	.parse_udp_ports      = NULL,
 	.parse_tunnel         = mlx5e_tc_tun_parse_gretap,
 };
+
+#endif /* HAVE_TCF_TUNNEL_INFO */
