From: Maher Sanalla <msanalla@nvidia.com>
Subject: [PATCH] BACKPORT:
 drivers/net/ethernet/mellanox/mlx5/core/lag/lag_fs.h

Change-Id: Ie1c34f7ca0958050d7cce5fd86387111eddc4d23
---
 drivers/net/ethernet/mellanox/mlx5/core/lag/lag_fs.h | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

--- a/drivers/net/ethernet/mellanox/mlx5/core/lag/lag_fs.h
+++ b/drivers/net/ethernet/mellanox/mlx5/core/lag/lag_fs.h
@@ -27,9 +27,7 @@ struct mlx5_lag_steering {
 	struct mlx5_lag_ttc outer;
 	struct mlx5_lag_ttc inner;
 };
-
-#ifdef CONFIG_MLX5_ESWITCH
-
+#if defined(CONFIG_MLX5_ESWITCH) && defined(HAVE_INFO_HASH_TYPE)
 int mlx5_lag_modify_port_selection(struct mlx5_lag *ldev, u8 *ports);
 void mlx5_lag_destroy_port_selection(struct mlx5_lag *ldev);
 int mlx5_lag_create_port_selection(struct mlx5_lag *ldev,
